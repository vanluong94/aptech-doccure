<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="https://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout}"
>
<head>
	<link rel="stylesheet" href="/assets/plugins/fancybox/jquery.fancybox.min.css">
</head>
<body>

	<div class="page-content" layout:fragment="layoutContent">
		<!-- Main Wrapper -->
		<div class="main-wrapper">

			<!-- Page Content -->
			<div class="content">
				<div class="container">

					<!-- Doctor Widget -->
					<div class="card">
						<div class="card-body">
							<div class="doctor-widget">
								<div class="doc-info-left">
									<div class="doctor-img">
										<img src="#" th:src="${doctor.theAvatar}" class="img-fluid" alt="User Image">
									</div>
									<div class="doc-info-cont">
										<h4 class="doc-name" th:text="${doctor.fullName}"></h4>
										<p class="doc-speciality" th:text="${doctor?.clinic?.specialities}"></p>
										<div class="doc-department">
											<th:block th:each="speciality : ${doctor?.specialities}">
												<img src="#" th:src="'/files/' + ${speciality.image}" class="img-fluid" th:alt="${speciality.name}"> <span th:text="${speciality.name}"></span>
											</th:block>
										</div>
										<div class="clinic-details">
											<p class="doc-location"><i class="fas fa-map-marker-alt"></i> <span th:text="${doctor?.clinic?.city} + ', ' + ${doctor?.clinic?.country}"></span> - <a href="javascript:void(0);" onclick="(() => {
											let locationBtn = document.getElementById('doc_locations_nav_btn');
											locationBtn.scrollIntoView();
											locationBtn.click();
										})()">Get Directions</a></p>
											<ul class="clinic-gallery">
												<li th:each="clinicImg : ${doctor?.clinic?.parsedImages}">
													<a th:href="@{${'/images/' + clinicImg}}" data-fancybox="gallery">
														<img th:src="@{${'/images/' + clinicImg}}" th:attr="data-image=${clinicImg}" alt="Feature">
													</a>
												</li>
											</ul>
										</div>
										<div class="clinic-services">
										<span th:each="service : ${doctor?.services}">
											<a href="/search.html" th:text="${service.name}"></a>
										</span>
										</div>
									</div>
								</div>
								<div class="doc-info-right">
									<div class="clini-infos">
										<ul>
											<li><i class="fas fa-map-marker-alt"></i> <span th:text="${doctor?.clinic?.city} + ', ' + ${doctor?.clinic?.country}"></span></li>
										</ul>
									</div>
									<div class="doctor-action d-block">
										<div class="row form-row">
											<div class="col-6">
												<a href="javascript:void(0)" class="btn fav-btn w-100" th:classappend="${isDoctorFavorite ? 'btn-info' : 'btn-white'}" th:attr="data-doctor=${doctor.id}">
													<i class="d-block far fa-bookmark"></i>
													<i class="d-block fas fa-check"></i>
													<small>Bookmark</small>
												</a>
											</div>
											<div class="col-6">
												<a href="tel:19001001" class="btn btn-white call-btn w-100">
													<i class="fas fa-phone d-block"></i>
													<small>Call</small>
												</a>
											</div>
										</div>
									</div>
									<div class="clinic-booking">
										<a class="apt-btn" th:href="@{/doctor/profile/{id}/booking(id=${doctor.id})}">Book Appointment</a>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- /Doctor Widget -->

					<!-- Doctor Details Tab -->
					<div class="card">
						<div class="card-body pt-0">

							<!-- Tab Menu -->
							<nav class="user-tabs mb-4">
								<ul class="nav nav-tabs nav-tabs-bottom nav-justified">
									<li class="nav-item">
										<a class="nav-link active" href="#doc_overview" data-toggle="tab">Overview</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" id="doc_locations_nav_btn" href="#doc_locations" data-toggle="tab">Locations</a>
									</li>
								</ul>
							</nav>
							<!-- /Tab Menu -->

							<!-- Tab Content -->
							<div class="tab-content pt-0">

								<!-- Overview Content -->
								<div role="tabpanel" id="doc_overview" class="tab-pane fade show active">
									<div class="row">
										<div class="col-md-12 col-lg-9">

											<!-- About Details -->
											<div class="widget about-widget">
												<h4 class="widget-title">About Me</h4>
												<p th:text="${doctor?.bio?.biography}"></p>
											</div>
											<!-- /About Details -->

											<!-- Services List -->
											<div class="service-list">
												<h4>Services</h4>
												<ul class="clearfix" th:each="service : ${doctor?.services}">
													<li th:text="${service.name}">Tooth cleaning</li>
												</ul>
											</div>
											<!-- /Services List -->

											<!-- Specializations List -->
											<div class="service-list">
												<h4>Specializations</h4>
												<ul class="clearfix" th:each="speciality : ${doctor?.specialities}">
													<li th:text="${speciality.name}">Children Care</li>
												</ul>
											</div>
											<!-- /Specializations List -->

										</div>
									</div>
								</div>
								<!-- /Overview Content -->

								<!-- Locations Content -->
								<div role="tabpanel" id="doc_locations" class="tab-pane fade">

									<!-- Location List -->
									<div class="row align-items-stretch">

										<!-- Business Hours Widget -->
										<div class="col-md-7 mb-4">
											<iframe
													width="600"
													height="450"
													style="border:0"
													loading="lazy"
													allowfullscreen
													referrerpolicy="no-referrer-when-downgrade"
													th:src="@{https://www.google.com/maps/embed/v1/place(key='AIzaSyCF6_tASSd0Q_9be0r5TOF9vztJIpleZes',q=${doctor?.clinic?.city} + ', ' + ${doctor?.clinic?.country})}">
											</iframe>
										</div>
										<!-- /Business Hours Widget -->

										<!-- Clinic Content -->
										<div class="col-md-5 mb-4">
											<div class="clinic-content mb-4">
												<h4 class="clinic-name" th:text="${doctor?.clinic?.name}">Smile Cute Dental Care Center</h4>
												<p class="doc-speciality" th:text="${doctor?.clinic?.specialities}">MDS - Periodontology and Oral Implantology, BDS</p>
												<div class="clinic-details mb-0">
													<h5 class="clinic-direction"> <i class="fas fa-map-marker-alt"></i> <span th:text="${doctor?.clinic?.city} + ', ' + ${doctor?.clinic?.country}">2286  Sundown Lane, Austin, Texas 78749, USA</span></h5>
													<ul>
														<li>
															<a href="assets/img/features/feature-01.jpg" data-fancybox="gallery2">
																<img src="assets/img/features/feature-01.jpg" alt="Feature Image">
															</a>
														</li>
														<li>
															<a href="assets/img/features/feature-02.jpg" data-fancybox="gallery2">
																<img src="assets/img/features/feature-02.jpg" alt="Feature Image">
															</a>
														</li>
														<li>
															<a href="assets/img/features/feature-03.jpg" data-fancybox="gallery2">
																<img src="assets/img/features/feature-03.jpg" alt="Feature Image">
															</a>
														</li>
														<li>
															<a href="assets/img/features/feature-04.jpg" data-fancybox="gallery2">
																<img src="assets/img/features/feature-04.jpg" alt="Feature Image">
															</a>
														</li>
													</ul>
												</div>

											</div>

											<div class="widget business-widget">
												<div class="widget-content">
													<div class="listing-hours">
														<div class="listing-day current">
															<div class="day">Today <span>5 Nov 2019</span></div>
															<div class="time-items">
																<span class="open-status"><span class="badge bg-success-light">Open Now</span></span>
																<span class="time">07:00 AM - 09:00 PM</span>
															</div>
														</div>
														<div class="listing-day">
															<div class="day">Monday</div>
															<div class="time-items">
																<span class="time">07:00 AM - 09:00 PM</span>
															</div>
														</div>
														<div class="listing-day">
															<div class="day">Tuesday</div>
															<div class="time-items">
																<span class="time">07:00 AM - 09:00 PM</span>
															</div>
														</div>
														<div class="listing-day">
															<div class="day">Wednesday</div>
															<div class="time-items">
																<span class="time">07:00 AM - 09:00 PM</span>
															</div>
														</div>
														<div class="listing-day">
															<div class="day">Thursday</div>
															<div class="time-items">
																<span class="time">07:00 AM - 09:00 PM</span>
															</div>
														</div>
														<div class="listing-day">
															<div class="day">Friday</div>
															<div class="time-items">
																<span class="time">07:00 AM - 09:00 PM</span>
															</div>
														</div>
														<div class="listing-day">
															<div class="day">Saturday</div>
															<div class="time-items">
																<span class="time">07:00 AM - 09:00 PM</span>
															</div>
														</div>
														<div class="listing-day closed">
															<div class="day">Sunday</div>
															<div class="time-items">
																<span class="time"><span class="badge bg-danger-light">Closed</span></span>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
										<!-- /Clinic Content -->



									</div>
									<!-- /Location List -->

								</div>
								<!-- /Locations Content -->

							</div>
						</div>
					</div>
					<!-- /Doctor Details Tab -->

				</div>
			</div>
			<!-- /Page Content -->

		</div>
		<!-- /Main Wrapper -->

		<!-- jQuery -->
		<script src="/assets/js/jquery.min.js"></script>

		<!-- Bootstrap Core JS -->
		<script src="/assets/js/popper.min.js"></script>
		<script src="/assets/js/bootstrap.min.js"></script>

		<!-- Fancybox JS -->
		<script src="/assets/plugins/fancybox/jquery.fancybox.min.js"></script>

		<!-- Custom JS -->
		<script src="/assets/js/script.js"></script>

		<script>
			jQuery(function($){
				$('.fav-btn').on('click', function(e){
					let $btn = $(this);
					e.preventDefault();
					favoriteDoctorToggle($btn, (resp) => {
						if (resp.data.isFavorite) {
							$btn.addClass('btn-info').removeClass('btn-white');
						} else {
							$btn.removeClass('btn-info').addClass('btn-white');
						}
					})
				})
			})
		</script>
	</div>

</body>

</html>